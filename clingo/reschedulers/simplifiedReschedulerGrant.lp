%% EXAMPLE

% person("21088977182").
% person("21088977183").
% person("21088977184").
% person("21088977185").
% person("21088977186").
% person("21088977187").
% person("21088977188").
% firstname("21088977182","Dimitrios").
% firstname("21088977183","Nikos").
% firstname("21088977184","Giorgos").
% firstname("21088977185","Ioannis").
% firstname("21088977186","Maria").
% firstname("21088977187","Despoina").
% firstname("21088977188","Kostas").
% lastname("21088977182","Dimitriou").
% lastname("21088977183","Nikou").
% lastname("21088977184","Georgiou").
% lastname("21088977185","Ioannou").
% lastname("21088977186","Marietti").
% lastname("21088977187","Panagiotopoulou").
% lastname("21088977188","Karakostas").
% phone("21088977182","6978909873").
% phone("21088977183","6978909845").
% phone("21088977184","6978909846").
% phone("21088977185","6978903456").
% phone("21088977186","6945609846").
% phone("21088977187","6972349846").
% phone("21088977188","6972747848").
% email("21088977182","dimitriosdimitriou@gmail.com").
% email("21088977183","nikosnikou@gmail.com").
% email("21088977184","giogrosgeorgiou@gmail.com").
% email("21088977185","ioannisioannou@gmail.com").
% email("21088977186","mariamarietti@gmail.com").
% email("21088977187","despoinapanagiotopoulou@gmail.com").
% email("21088977188","kostaskarakostas@gmail.com").
% birth_date("21088977182","1985-05-05").
% birth_date("21088977183","1990-05-05").
% birth_date("21088977184","1991-05-05").
% birth_date("21088977185","1992-05-05").
% birth_date("21088977186","1995-05-05").
% birth_date("21088977187","1997-05-05").
% birth_date("21088977188","1992-05-05").
% specialty("Cardiology").
% doctor("21088977182").
% upin("21088977182","cfnasnd123").
% doctor_available("21088977182").
% specialty_title("21088977182","Cardiology").
% patient("21088977183").
% patient("21088977184").
% patient("21088977185").
% patient("21088977186").
% patient("21088977187").
% patient("21088977188").
% priority("21088977183",85).
% priority("21088977184",81).
% priority("21088977185",43).
% priority("21088977186",36).
% priority("21088977187",57).
% priority("21088977188",80).
% timeslot(1).
% timeslot(2).
% timeslot(3).
% timeslot(4).
% date(1,"2023-05-01").
% date(2,"2023-05-02").
% date(3,"2023-05-04").
% date(4,"2023-05-05").
% time(1,"09:00:00").
% time(2,"13:00:00").
% time(3,"11:00:00").
% time(4,"15:00:00").
% timeslot_available(1).
% timeslot_available(2).
% timeslot_available(3).
% timeslot_available(4).
% doctor_id(1,"21088977182").
% doctor_id(2,"21088977182").
% doctor_id(3,"21088977182").
% doctor_id(4,"21088977182").
% request(2).
% request(3).
% request(4).
% request(5).
% request(6).
% request(7).
% request(8).
% request(9).
% request(10).
% patient_id(2,"21088977184").
% patient_id(3,"21088977188").
% patient_id(4,"21088977184").
% patient_id(5,"21088977185").
% patient_id(6,"21088977186").
% patient_id(7,"21088977185").
% patient_id(8,"21088977186").
% patient_id(9,"21088977188").
% patient_id(10,"21088977187").
% timeslot_id(2,1).
% timeslot_id(3,1).
% timeslot_id(4,2).
% timeslot_id(5,2).
% timeslot_id(6,2).
% timeslot_id(7,3).
% timeslot_id(8,3).
% timeslot_id(9,4).
% timeslot_id(10,4).
% preference(2,1).
% preference(3,1).
% preference(4,2).
% preference(5,1).
% preference(6,1).
% preference(7,2).
% preference(8,1).
% preference(9,2).
% preference(10,1).
% score(2,87).
% score(3,86).
% score(4,72).
% score(5,60).
% score(6,55).
% score(7,45).
% score(8,40).
% score(9,71).
% score(10,70).
% status(2,0).
% status(3,0).
% status(4,1).
% status(5,0).
% status(6,0).
% status(7,1).
% status(8,0).
% status(9,1).
% status(10,0).

%% TEST DB
request(3).
request(4).
request(5).
request(6).
request(7).
request(8).
request(10).
request(11).
request(13).
request(14).
request(15).
request(16).
request(17).
request(18).
request(19).
request(20).
request(21).
request(22).
request(23).
request(26).
request(27).
request(28).
request(29).
request(31).
request(32).
request(33).
request(34).
request(35).
request(40).
request(42).
request(43).
request(45).
request(46).
request(47).
request(48).
request(49).
request(50).
request(51).
request(52).
request(54).
request(57).
request(58).
request(59).
request(60).
request(61).
request(63).
request(64).
request(65).
request(66).
request(67).
request(69).
request(70).
request(73).
request(74).
request(75).
request(77).
request(79).
request(80).
request(83).
request(85).
request(86).
request(87).
request(88).
request(89).
request(90).
request(91).
request(92).
request(93).
request(94).
request(95).
request(96).
request(97).
request(98).
request(99).
request(100).
request(101).
request(102).
request(103).
request(104).
request(105).
request(106).
request(107).
request(108).
request(110).
request(111).
request(112).
request(113).
request(114).
request(115).
request(116).
request(118).
request(119).
request(120).
request(121).
request(122).
request(123).
request(124).
request(125).
request(127).
request(129).
request(130).
request(132).
request(133).
request(135).
request(138).
request(139).
request(141).
request(142).
request(143).
request(144).
request(145).
request(146).
request(147).
request(148).
request(149).
request(150).
request(151).
request(152).
request(153).
request(155).
request(156).
request(158).
request(160).
request(161).
request(162).
request(163).
request(164).
request(165).
request(166).
request(167).
request(169).
request(171).
request(172).
request(173).
request(175).
request(176).
request(177).
request(178).
request(179).
request(180).
request(181).
request(182).
request(183).
request(184).
request(185).
request(186).
request(187).
request(188).
request(189).
request(191).
request(193).
request(194).
request(195).
request(197).
request(198).
request(199).
request(201).
request(202).
request(203).
request(205).
request(206).
request(210).
request(211).
request(212).
request(213).
request(214).
request(215).
request(216).
request(217).
request(218).
request(219).
request(221).
request(222).
request(223).
request(224).
request(225).
request(226).
request(228).
request(229).
request(230).
request(231).
request(233).
request(234).
request(235).
request(236).
request(237).
request(238).
request(239).
request(240).
request(241).
request(242).
request(244).
request(245).
request(246).
request(247).
request(249).
request(250).
request(254).
request(255).
request(256).
request(257).
request(259).
request(260).
request(263).
request(264).
request(265).
request(266).
request(267).
request(268).
request(269).
request(270).
request(272).
request(273).
request(274).
request(275).
request(276).
request(278).
request(279).
request(282).
request(283).
request(284).
request(285).
request(287).
request(289).
request(290).
request(291).
request(292).
request(293).
request(294).
request(295).
request(296).
request(297).
request(299).
request(300).
request(302).
request(303).
request(304).
request(305).
request(306).
request(308).
request(312).
request(313).
request(314).
request(315).
request(316).
request(317).
request(318).
request(319).
request(320).
request(321).
request(322).
request(323).
request(324).
request(325).
request(326).
request(327).
request(328).
request(329).
request(330).
request(332).
request(334).
request(335).
request(336).
request(337).
request(338).
request(339).
request(340).
request(341).
request(342).
request(344).
request(345).
request(346).
request(347).
request(349).
request(350).
request(352).
request(353).
request(355).
request(356).
request(357).
request(358).
request(359).
request(360).
request(362).
request(363).
request(364).
request(369).
request(370).
request(371).
request(374).
request(376).
request(377).
request(378).
request(379).
request(380).
request(381).
request(384).
request(386).
request(387).
request(388).
request(390).
request(393).
request(394).
request(396).
request(397).
request(398).
request(400).
patient_id(3,"03069131922").
patient_id(4,"30010625231").
patient_id(5,"09077231687").
patient_id(6,"02119076046").
patient_id(7,"09061629920").
patient_id(8,"03039417021").
patient_id(10,"15010476586").
patient_id(11,"22047080290").
patient_id(13,"07061869637").
patient_id(14,"28128223196").
patient_id(15,"01081642702").
patient_id(16,"20111086425").
patient_id(17,"16067676425").
patient_id(18,"07031868420").
patient_id(19,"27011336602").
patient_id(20,"27037743039").
patient_id(21,"13128157784").
patient_id(22,"14090097016").
patient_id(23,"15010476586").
patient_id(26,"23112171378").
patient_id(27,"08108631311").
patient_id(28,"14038529534").
patient_id(29,"29070458491").
patient_id(31,"14080076459").
patient_id(32,"27099970538").
patient_id(33,"14080065080").
patient_id(34,"07107390309").
patient_id(35,"03091690606").
patient_id(40,"19079028791").
patient_id(42,"18087462935").
patient_id(43,"05108639294").
patient_id(45,"14038529534").
patient_id(46,"25020246770").
patient_id(47,"10089680994").
patient_id(48,"22020235978").
patient_id(49,"01040693309").
patient_id(50,"11047540965").
patient_id(51,"26107568953").
patient_id(52,"24121074538").
patient_id(54,"13030319134").
patient_id(57,"01090842087").
patient_id(58,"26042222609").
patient_id(59,"29011531885").
patient_id(60,"26082274429").
patient_id(61,"15110453618").
patient_id(63,"03077400087").
patient_id(64,"19087904454").
patient_id(65,"09058472060").
patient_id(66,"21070458555").
patient_id(67,"12118073670").
patient_id(69,"25077086871").
patient_id(70,"01040693309").
patient_id(73,"02018707147").
patient_id(74,"07047495887").
patient_id(75,"28027908798").
patient_id(77,"09121917349").
patient_id(79,"26011698565").
patient_id(80,"18031420161").
patient_id(83,"29099854092").
patient_id(85,"01080351917").
patient_id(86,"25020172406").
patient_id(87,"26108939724").
patient_id(88,"18090948466").
patient_id(89,"03128590720").
patient_id(90,"20027856127").
patient_id(91,"07031868420").
patient_id(92,"08129807254").
patient_id(93,"28090383531").
patient_id(94,"17062098433").
patient_id(95,"21049083476").
patient_id(96,"25020172406").
patient_id(97,"24129779039").
patient_id(98,"01060016001").
patient_id(99,"08119927229").
patient_id(100,"11111521859").
patient_id(101,"10078706461").
patient_id(102,"07010969371").
patient_id(103,"02100903109").
patient_id(104,"25098595967").
patient_id(105,"31011308959").
patient_id(106,"13031737219").
patient_id(107,"11012242373").
patient_id(108,"30049048520").
patient_id(110,"18097944450").
patient_id(111,"30019883864").
patient_id(112,"14038529534").
patient_id(113,"16040674125").
patient_id(114,"28067914292").
patient_id(115,"30111136310").
patient_id(116,"26011698565").
patient_id(118,"01077494480").
patient_id(119,"25022346958").
patient_id(120,"15031423294").
patient_id(121,"11017906626").
patient_id(122,"10027869865").
patient_id(123,"22110116310").
patient_id(124,"22110116310").
patient_id(125,"25068085718").
patient_id(127,"09121917349").
patient_id(129,"26022102664").
patient_id(130,"06109084688").
patient_id(132,"03058211354").
patient_id(133,"10049583296").
patient_id(135,"05108639294").
patient_id(138,"10107804162").
patient_id(139,"11111521859").
patient_id(141,"09059628090").
patient_id(142,"23092136649").
patient_id(143,"21049083476").
patient_id(144,"28121760798").
patient_id(145,"20111086425").
patient_id(146,"06029586093").
patient_id(147,"28047600714").
patient_id(148,"15070017460").
patient_id(149,"22047080290").
patient_id(150,"21107799617").
patient_id(151,"16121692160").
patient_id(152,"16072107754").
patient_id(153,"25020172406").
patient_id(155,"25047935520").
patient_id(156,"25098595967").
patient_id(158,"22070464775").
patient_id(160,"02079445983").
patient_id(161,"04030410023").
patient_id(162,"22090971668").
patient_id(163,"24051542652").
patient_id(164,"25010783402").
patient_id(165,"07119775554").
patient_id(166,"30129275191").
patient_id(167,"06088987299").
patient_id(169,"10089759343").
patient_id(171,"11067962016").
patient_id(172,"07119775554").
patient_id(173,"08098920070").
patient_id(175,"16047562232").
patient_id(176,"15128837687").
patient_id(177,"14080320360").
patient_id(178,"11020757610").
patient_id(179,"28081789811").
patient_id(180,"27077201278").
patient_id(181,"17010049793").
patient_id(182,"08119927229").
patient_id(183,"22070464775").
patient_id(184,"29038269592").
patient_id(185,"23057402721").
patient_id(186,"10058849083").
patient_id(187,"15119514162").
patient_id(188,"17099357992").
patient_id(189,"13011684092").
patient_id(191,"02100903109").
patient_id(193,"06011181283").
patient_id(194,"03039417021").
patient_id(195,"26022102664").
patient_id(197,"04059166209").
patient_id(198,"10081288952").
patient_id(199,"30129837529").
patient_id(201,"27050113631").
patient_id(202,"31120218750").
patient_id(203,"27077201278").
patient_id(205,"22110116310").
patient_id(206,"24049142177").
patient_id(210,"05081665670").
patient_id(211,"20010663738").
patient_id(212,"14080320360").
patient_id(213,"08030979390").
patient_id(214,"14108130692").
patient_id(215,"11060019780").
patient_id(216,"20049429382").
patient_id(217,"03077400087").
patient_id(218,"03091690606").
patient_id(219,"12069981301").
patient_id(221,"14118577627").
patient_id(222,"07061869637").
patient_id(223,"07091607080").
patient_id(224,"25069476379").
patient_id(225,"29099854092").
patient_id(226,"07051532344").
patient_id(228,"04041509805").
patient_id(229,"30019613428").
patient_id(230,"30019883864").
patient_id(231,"07010395288").
patient_id(233,"13108526289").
patient_id(234,"14120663928").
patient_id(235,"09097319884").
patient_id(236,"03090177837").
patient_id(237,"20100512555").
patient_id(238,"09109575994").
patient_id(239,"23019957663").
patient_id(240,"25112151714").
patient_id(241,"13030319134").
patient_id(242,"15079223614").
patient_id(244,"18090948466").
patient_id(245,"09112194957").
patient_id(246,"28110952455").
patient_id(247,"14090097016").
patient_id(249,"14080076459").
patient_id(250,"14067792540").
patient_id(254,"02097398123").
patient_id(255,"22081196184").
patient_id(256,"25020172406").
patient_id(257,"18019227695").
patient_id(259,"20027856127").
patient_id(260,"02030619114").
patient_id(263,"12049131639").
patient_id(264,"20011137468").
patient_id(265,"13051641341").
patient_id(266,"28011123206").
patient_id(267,"29017979765").
patient_id(268,"27110709980").
patient_id(269,"30030918848").
patient_id(270,"04078693324").
patient_id(272,"01020793400").
patient_id(273,"03069131922").
patient_id(274,"08038930478").
patient_id(275,"30077743984").
patient_id(276,"20118619400").
patient_id(278,"31081198066").
patient_id(279,"07031868420").
patient_id(282,"26107568953").
patient_id(283,"13049450334").
patient_id(284,"09059628090").
patient_id(285,"07031868420").
patient_id(287,"22070464775").
patient_id(289,"25068085718").
patient_id(290,"15128837687").
patient_id(291,"20107226795").
patient_id(292,"15028839155").
patient_id(293,"27050113631").
patient_id(294,"28028919000").
patient_id(295,"03029282344").
patient_id(296,"06042279726").
patient_id(297,"17099848958").
patient_id(299,"21107799617").
patient_id(300,"09097319884").
patient_id(302,"01058603679").
patient_id(303,"11018404043").
patient_id(304,"06079178007").
patient_id(305,"21110933740").
patient_id(306,"02019458898").
patient_id(308,"08051947979").
patient_id(312,"19027298546").
patient_id(313,"28028901107").
patient_id(314,"27028139080").
patient_id(315,"29040387572").
patient_id(316,"08049025789").
patient_id(317,"10081288952").
patient_id(318,"24121074538").
patient_id(319,"29051648383").
patient_id(320,"31017567723").
patient_id(321,"23019957663").
patient_id(322,"20058506203").
patient_id(323,"25059802303").
patient_id(324,"19018047092").
patient_id(325,"18029871862").
patient_id(326,"27110709980").
patient_id(327,"27040740360").
patient_id(328,"21119177802").
patient_id(329,"14098535884").
patient_id(330,"09109063389").
patient_id(332,"16058164738").
patient_id(334,"28088518205").
patient_id(335,"05120736508").
patient_id(336,"24050800721").
patient_id(337,"08129807254").
patient_id(338,"04041509805").
patient_id(339,"11080212696").
patient_id(340,"11090791663").
patient_id(341,"11101679170").
patient_id(342,"08098920070").
patient_id(344,"23092136649").
patient_id(345,"07059524921").
patient_id(346,"03050224041").
patient_id(347,"06029586093").
patient_id(349,"15079223614").
patient_id(350,"16020742124").
patient_id(352,"28028919000").
patient_id(353,"06027047726").
patient_id(355,"22020235978").
patient_id(356,"13018154552").
patient_id(357,"08129807254").
patient_id(358,"28089389648").
patient_id(359,"10089759343").
patient_id(360,"11038432289").
patient_id(362,"10089680994").
patient_id(363,"30030918848").
patient_id(364,"15081910042").
patient_id(369,"03050224041").
patient_id(370,"21111453037").
patient_id(371,"28089537931").
patient_id(374,"06120437014").
patient_id(376,"26022102664").
patient_id(377,"13049450334").
patient_id(378,"03080925567").
patient_id(379,"30019883864").
patient_id(380,"29040387572").
patient_id(381,"21107799617").
patient_id(384,"22090971668").
patient_id(386,"16080129998").
patient_id(387,"01058603679").
patient_id(388,"22068453442").
patient_id(390,"20070461361").
patient_id(393,"29019490670").
patient_id(394,"31077774201").
patient_id(396,"21017301876").
patient_id(397,"12059124920").
patient_id(398,"28088518205").
patient_id(400,"28128079556").
timeslot_id(3,206).
timeslot_id(4,47).
timeslot_id(5,67).
timeslot_id(6,77).
timeslot_id(7,374).
timeslot_id(8,53).
timeslot_id(10,397).
timeslot_id(11,205).
timeslot_id(13,219).
timeslot_id(14,282).
timeslot_id(15,274).
timeslot_id(16,178).
timeslot_id(17,334).
timeslot_id(18,377).
timeslot_id(19,348).
timeslot_id(20,344).
timeslot_id(21,136).
timeslot_id(22,92).
timeslot_id(23,361).
timeslot_id(26,343).
timeslot_id(27,151).
timeslot_id(28,255).
timeslot_id(29,60).
timeslot_id(31,198).
timeslot_id(32,86).
timeslot_id(33,132).
timeslot_id(34,381).
timeslot_id(35,148).
timeslot_id(40,363).
timeslot_id(42,321).
timeslot_id(43,154).
timeslot_id(45,141).
timeslot_id(46,362).
timeslot_id(47,211).
timeslot_id(48,67).
timeslot_id(49,100).
timeslot_id(50,288).
timeslot_id(51,273).
timeslot_id(52,77).
timeslot_id(54,246).
timeslot_id(57,189).
timeslot_id(58,124).
timeslot_id(59,91).
timeslot_id(60,379).
timeslot_id(61,274).
timeslot_id(63,167).
timeslot_id(64,354).
timeslot_id(65,331).
timeslot_id(66,162).
timeslot_id(67,246).
timeslot_id(69,72).
timeslot_id(70,116).
timeslot_id(73,289).
timeslot_id(74,351).
timeslot_id(75,116).
timeslot_id(77,217).
timeslot_id(79,157).
timeslot_id(80,44).
timeslot_id(83,195).
timeslot_id(85,178).
timeslot_id(86,59).
timeslot_id(87,395).
timeslot_id(88,349).
timeslot_id(89,178).
timeslot_id(90,48).
timeslot_id(91,154).
timeslot_id(92,128).
timeslot_id(93,272).
timeslot_id(94,186).
timeslot_id(95,41).
timeslot_id(96,205).
timeslot_id(97,369).
timeslot_id(98,49).
timeslot_id(99,141).
timeslot_id(100,264).
timeslot_id(101,58).
timeslot_id(102,329).
timeslot_id(103,311).
timeslot_id(104,208).
timeslot_id(105,348).
timeslot_id(106,244).
timeslot_id(107,275).
timeslot_id(108,155).
timeslot_id(110,282).
timeslot_id(111,28).
timeslot_id(112,57).
timeslot_id(113,124).
timeslot_id(114,223).
timeslot_id(115,280).
timeslot_id(116,129).
timeslot_id(118,135).
timeslot_id(119,65).
timeslot_id(120,363).
timeslot_id(121,382).
timeslot_id(122,36).
timeslot_id(123,186).
timeslot_id(124,285).
timeslot_id(125,351).
timeslot_id(127,229).
timeslot_id(129,297).
timeslot_id(130,347).
timeslot_id(132,187).
timeslot_id(133,82).
timeslot_id(135,208).
timeslot_id(138,342).
timeslot_id(139,276).
timeslot_id(141,195).
timeslot_id(142,236).
timeslot_id(143,399).
timeslot_id(144,307).
timeslot_id(145,142).
timeslot_id(146,210).
timeslot_id(147,311).
timeslot_id(148,28).
timeslot_id(149,242).
timeslot_id(150,331).
timeslot_id(151,22).
timeslot_id(152,301).
timeslot_id(153,272).
timeslot_id(155,283).
timeslot_id(156,291).
timeslot_id(158,319).
timeslot_id(160,82).
timeslot_id(161,398).
timeslot_id(162,361).
timeslot_id(163,217).
timeslot_id(164,130).
timeslot_id(165,316).
timeslot_id(166,213).
timeslot_id(167,184).
timeslot_id(169,226).
timeslot_id(171,74).
timeslot_id(172,175).
timeslot_id(173,263).
timeslot_id(175,175).
timeslot_id(176,299).
timeslot_id(177,246).
timeslot_id(178,197).
timeslot_id(179,204).
timeslot_id(180,52).
timeslot_id(181,172).
timeslot_id(182,337).
timeslot_id(183,347).
timeslot_id(184,381).
timeslot_id(185,190).
timeslot_id(186,334).
timeslot_id(187,222).
timeslot_id(188,205).
timeslot_id(189,62).
timeslot_id(191,77).
timeslot_id(193,56).
timeslot_id(194,335).
timeslot_id(195,94).
timeslot_id(197,342).
timeslot_id(198,148).
timeslot_id(199,79).
timeslot_id(201,10).
timeslot_id(202,204).
timeslot_id(203,276).
timeslot_id(205,128).
timeslot_id(206,82).
timeslot_id(210,90).
timeslot_id(211,300).
timeslot_id(212,263).
timeslot_id(213,219).
timeslot_id(214,21).
timeslot_id(215,372).
timeslot_id(216,359).
timeslot_id(217,354).
timeslot_id(218,40).
timeslot_id(219,204).
timeslot_id(221,199).
timeslot_id(222,287).
timeslot_id(223,329).
timeslot_id(224,24).
timeslot_id(225,123).
timeslot_id(226,11).
timeslot_id(228,371).
timeslot_id(229,86).
timeslot_id(230,288).
timeslot_id(231,395).
timeslot_id(233,257).
timeslot_id(234,284).
timeslot_id(235,358).
timeslot_id(236,358).
timeslot_id(237,103).
timeslot_id(238,143).
timeslot_id(239,78).
timeslot_id(240,291).
timeslot_id(241,90).
timeslot_id(242,375).
timeslot_id(244,133).
timeslot_id(245,130).
timeslot_id(246,197).
timeslot_id(247,290).
timeslot_id(249,67).
timeslot_id(250,116).
timeslot_id(254,367).
timeslot_id(255,296).
timeslot_id(256,284).
timeslot_id(257,201).
timeslot_id(259,79).
timeslot_id(260,16).
timeslot_id(263,303).
timeslot_id(264,345).
timeslot_id(265,280).
timeslot_id(266,124).
timeslot_id(267,72).
timeslot_id(268,104).
timeslot_id(269,183).
timeslot_id(270,116).
timeslot_id(272,179).
timeslot_id(273,275).
timeslot_id(274,46).
timeslot_id(275,154).
timeslot_id(276,362).
timeslot_id(278,319).
timeslot_id(279,315).
timeslot_id(282,27).
timeslot_id(283,82).
timeslot_id(284,323).
timeslot_id(285,58).
timeslot_id(287,382).
timeslot_id(289,204).
timeslot_id(290,363).
timeslot_id(291,197).
timeslot_id(292,69).
timeslot_id(293,372).
timeslot_id(294,368).
timeslot_id(295,104).
timeslot_id(296,340).
timeslot_id(297,280).
timeslot_id(299,327).
timeslot_id(300,344).
timeslot_id(302,211).
timeslot_id(303,394).
timeslot_id(304,205).
timeslot_id(305,253).
timeslot_id(306,343).
timeslot_id(308,233).
timeslot_id(312,49).
timeslot_id(313,348).
timeslot_id(314,217).
timeslot_id(315,97).
timeslot_id(316,305).
timeslot_id(317,98).
timeslot_id(318,198).
timeslot_id(319,185).
timeslot_id(320,120).
timeslot_id(321,338).
timeslot_id(322,175).
timeslot_id(323,235).
timeslot_id(324,313).
timeslot_id(325,76).
timeslot_id(326,241).
timeslot_id(327,299).
timeslot_id(328,34).
timeslot_id(329,48).
timeslot_id(330,263).
timeslot_id(332,181).
timeslot_id(334,245).
timeslot_id(335,219).
timeslot_id(336,302).
timeslot_id(337,77).
timeslot_id(338,34).
timeslot_id(339,213).
timeslot_id(340,267).
timeslot_id(341,295).
timeslot_id(342,19).
timeslot_id(344,171).
timeslot_id(345,189).
timeslot_id(346,18).
timeslot_id(347,299).
timeslot_id(349,277).
timeslot_id(350,172).
timeslot_id(352,83).
timeslot_id(353,185).
timeslot_id(355,302).
timeslot_id(356,207).
timeslot_id(357,261).
timeslot_id(358,185).
timeslot_id(359,134).
timeslot_id(360,20).
timeslot_id(362,136).
timeslot_id(363,282).
timeslot_id(364,294).
timeslot_id(369,372).
timeslot_id(370,121).
timeslot_id(371,51).
timeslot_id(374,155).
timeslot_id(376,282).
timeslot_id(377,174).
timeslot_id(378,265).
timeslot_id(379,19).
timeslot_id(380,187).
timeslot_id(381,15).
timeslot_id(384,362).
timeslot_id(386,102).
timeslot_id(387,59).
timeslot_id(388,301).
timeslot_id(390,235).
timeslot_id(393,315).
timeslot_id(394,113).
timeslot_id(396,17).
timeslot_id(397,130).
timeslot_id(398,21).
timeslot_id(400,269).
score(3,36).
score(4,38).
score(5,43).
score(6,44).
score(7,90).
score(8,83).
score(10,72).
score(11,84).
score(13,64).
score(14,54).
score(15,43).
score(16,70).
score(17,36).
score(18,59).
score(19,96).
score(20,39).
score(21,61).
score(22,66).
score(23,57).
score(26,52).
score(27,33).
score(28,78).
score(29,48).
score(31,43).
score(32,93).
score(33,88).
score(34,35).
score(35,90).
score(40,51).
score(42,54).
score(43,66).
score(45,63).
score(46,48).
score(47,99).
score(48,42).
score(49,58).
score(50,78).
score(51,74).
score(52,76).
score(54,86).
score(57,56).
score(58,96).
score(59,43).
score(60,59).
score(61,64).
score(63,73).
score(64,43).
score(65,98).
score(66,79).
score(67,50).
score(69,52).
score(70,43).
score(73,78).
score(74,82).
score(75,98).
score(77,93).
score(79,37).
score(80,70).
score(83,57).
score(85,84).
score(86,100).
score(87,41).
score(88,100).
score(89,61).
score(90,57).
score(91,39).
score(92,62).
score(93,55).
score(94,45).
score(95,39).
score(96,85).
score(97,40).
score(98,98).
score(99,59).
score(100,95).
score(101,54).
score(102,98).
score(103,85).
score(104,84).
score(105,57).
score(106,70).
score(107,76).
score(108,75).
score(110,66).
score(111,32).
score(112,58).
score(113,55).
score(114,53).
score(115,48).
score(116,22).
score(118,99).
score(119,35).
score(120,46).
score(121,71).
score(122,31).
score(123,50).
score(124,45).
score(125,31).
score(127,78).
score(129,40).
score(130,46).
score(132,43).
score(133,54).
score(135,51).
score(138,54).
score(139,80).
score(141,81).
score(142,44).
score(143,19).
score(144,64).
score(145,55).
score(146,75).
score(147,36).
score(148,76).
score(149,69).
score(150,59).
score(151,61).
score(152,79).
score(153,80).
score(155,85).
score(156,69).
score(158,68).
score(160,55).
score(161,38).
score(162,59).
score(163,89).
score(164,36).
score(165,85).
score(166,39).
score(167,56).
score(169,43).
score(171,97).
score(172,70).
score(173,38).
score(175,96).
score(176,47).
score(177,97).
score(178,75).
score(179,43).
score(180,67).
score(181,49).
score(182,44).
score(183,53).
score(184,97).
score(185,38).
score(186,22).
score(187,99).
score(188,82).
score(189,97).
score(191,70).
score(193,36).
score(194,68).
score(195,26).
score(197,66).
score(198,91).
score(199,42).
score(201,37).
score(202,44).
score(203,52).
score(205,42).
score(206,66).
score(210,36).
score(211,65).
score(212,82).
score(213,96).
score(214,85).
score(215,57).
score(216,85).
score(217,58).
score(218,70).
score(219,82).
score(221,38).
score(222,49).
score(223,39).
score(224,51).
score(225,42).
score(226,72).
score(228,82).
score(229,68).
score(230,17).
score(231,96).
score(233,57).
score(234,76).
score(235,54).
score(236,42).
score(237,78).
score(238,69).
score(239,46).
score(240,59).
score(241,71).
score(242,83).
score(244,85).
score(245,64).
score(246,39).
score(247,51).
score(249,28).
score(250,79).
score(254,96).
score(255,33).
score(256,78).
score(257,59).
score(259,42).
score(260,94).
score(263,73).
score(264,52).
score(265,11).
score(266,78).
score(267,43).
score(268,54).
score(269,90).
score(270,38).
score(272,43).
score(273,16).
score(274,44).
score(275,62).
score(276,81).
score(278,92).
score(279,36).
score(282,59).
score(283,80).
score(284,76).
score(285,35).
score(287,48).
score(289,16).
score(290,32).
score(291,76).
score(292,79).
score(293,22).
score(294,96).
score(295,34).
score(296,99).
score(297,45).
score(299,44).
score(300,39).
score(302,78).
score(303,71).
score(304,78).
score(305,67).
score(306,57).
score(308,90).
score(312,45).
score(313,34).
score(314,50).
score(315,40).
score(316,83).
score(317,76).
score(318,61).
score(319,78).
score(320,84).
score(321,31).
score(322,42).
score(323,84).
score(324,49).
score(325,46).
score(326,40).
score(327,91).
score(328,68).
score(329,92).
score(330,54).
score(332,80).
score(334,76).
score(335,36).
score(336,49).
score(337,47).
score(338,68).
score(339,35).
score(340,85).
score(341,42).
score(342,23).
score(344,39).
score(345,54).
score(346,67).
score(347,60).
score(349,68).
score(350,82).
score(352,81).
score(353,54).
score(355,27).
score(356,92).
score(357,42).
score(358,34).
score(359,38).
score(360,71).
score(362,84).
score(363,74).
score(364,67).
score(369,52).
score(370,79).
score(371,66).
score(374,82).
score(376,20).
score(377,65).
score(378,39).
score(379,12).
score(380,25).
score(381,39).
score(384,44).
score(386,96).
score(387,63).
score(388,37).
score(390,88).
score(393,82).
score(394,78).
score(396,39).
score(397,78).
score(398,61).
status(3,1).
status(4,0).
status(5,0).
status(6,0).
status(7,1).
status(8,0).
status(10,0).
status(11,0).
status(13,0).
status(14,0).
status(15,1).
status(16,0).
status(17,0).
status(18,0).
status(19,0).
status(20,1).
status(21,0).
status(22,1).
status(23,1).
status(26,0).
status(27,1).
status(28,1).
status(29,1).
status(31,1).
status(32,0).
status(33,1).
status(34,0).
status(35,1).
status(40,0).
status(42,0).
status(43,0).
status(45,0).
status(46,0).
status(47,0).
status(48,0).
status(49,0).
status(50,0).
status(51,1).
status(52,0).
status(54,0).
status(57,0).
status(58,0).
status(59,1).
status(60,1).
status(61,0).
status(63,0).
status(64,1).
status(65,0).
status(66,0).
status(67,1).
status(69,0).
status(70,0).
status(73,0).
status(74,0).
status(75,0).
status(77,0).
status(79,1).
status(80,0).
status(83,0).
status(85,0).
status(86,0).
status(87,0).
status(88,1).
status(89,0).
status(90,0).
status(91,1).
status(92,0).
status(93,0).
status(94,1).
status(95,0).
status(96,0).
status(97,1).
status(98,0).
status(99,1).
status(100,0).
status(101,0).
status(102,0).
status(103,0).
status(104,0).
status(105,0).
status(106,0).
status(107,0).
status(108,0).
status(110,0).
status(111,1).
status(112,1).
status(113,1).
status(114,1).
status(115,0).
status(116,1).
status(118,0).
status(119,1).
status(120,0).
status(121,0).
status(122,1).
status(123,0).
status(124,0).
status(125,0).
status(127,0).
status(129,1).
status(130,0).
status(132,0).
status(133,1).
status(135,1).
status(138,0).
status(139,0).
status(141,0).
status(142,1).
status(143,1).
status(144,0).
status(145,0).
status(146,0).
status(147,1).
status(148,0).
status(149,0).
status(150,0).
status(151,0).
status(152,0).
status(153,0).
status(155,1).
status(156,0).
status(158,0).
status(160,0).
status(161,0).
status(162,0).
status(163,0).
status(164,1).
status(165,0).
status(166,0).
status(167,1).
status(169,1).
status(171,0).
status(172,0).
status(173,1).
status(175,0).
status(176,0).
status(177,0).
status(178,0).
status(179,0).
status(180,1).
status(181,0).
status(182,1).
status(183,0).
status(184,0).
status(185,0).
status(186,1).
status(187,0).
status(188,0).
status(189,0).
status(191,0).
status(193,0).
status(194,1).
status(195,1).
status(197,0).
status(198,0).
status(199,1).
status(201,0).
status(202,0).
status(203,0).
status(205,0).
status(206,0).
status(210,1).
status(211,0).
status(212,0).
status(213,0).
status(214,0).
status(215,0).
status(216,1).
status(217,0).
status(218,0).
status(219,0).
status(221,0).
status(222,0).
status(223,1).
status(224,0).
status(225,0).
status(226,0).
status(228,0).
status(229,0).
status(230,1).
status(231,0).
status(233,0).
status(234,0).
status(235,0).
status(236,1).
status(237,0).
status(238,0).
status(239,1).
status(240,1).
status(241,0).
status(242,1).
status(244,0).
status(245,0).
status(246,1).
status(247,1).
status(249,1).
status(250,0).
status(254,1).
status(255,1).
status(256,0).
status(257,0).
status(259,0).
status(260,0).
status(263,1).
status(264,1).
status(265,1).
status(266,0).
status(267,1).
status(268,0).
status(269,0).
status(270,0).
status(272,1).
status(273,1).
status(274,1).
status(275,0).
status(276,0).
status(278,0).
status(279,1).
status(282,0).
status(283,0).
status(284,0).
status(285,1).
status(287,0).
status(289,1).
status(290,0).
status(291,0).
status(292,0).
status(293,1).
status(294,0).
status(295,1).
status(296,0).
status(297,0).
status(299,0).
status(300,0).
status(302,0).
status(303,0).
status(304,0).
status(305,0).
status(306,0).
status(308,0).
status(312,1).
status(313,0).
status(314,1).
status(315,1).
status(316,0).
status(317,1).
status(318,0).
status(319,0).
status(320,0).
status(321,0).
status(322,0).
status(323,0).
status(324,1).
status(325,1).
status(326,0).
status(327,0).
status(328,0).
status(329,0).
status(330,0).
status(332,0).
status(334,0).
status(335,1).
status(336,0).
status(337,0).
status(338,0).
status(339,0).
status(340,0).
status(341,1).
status(342,0).
status(344,1).
status(345,0).
status(346,0).
status(347,0).
status(349,1).
status(350,0).
status(352,0).
status(353,0).
status(355,0).
status(356,1).
status(357,0).
status(358,0).
status(359,1).
status(360,0).
status(362,0).
status(363,0).
status(364,0).
status(369,0).
status(370,0).
status(371,0).
status(374,0).
status(376,1).
status(377,0).
status(378,1).
status(379,1).
status(380,1).
status(381,0).
status(384,1).
status(386,1).
status(387,0).
status(388,1).
status(390,0).
status(393,0).
status(394,0).
status(396,1).
status(397,0).
status(398,1).
status(400,1).

% RULES
%% GRANTED RULE
granted(R) :- status(R, S), S = 1.
%% APPOINTED RULE
appointed(P) :- request(R), patient_id(R, P), granted(R).
%% BEST RULE
best(R) :- request(R), patient_id(R,P), score(R,S), 0 {request(X) : patient_id(X,P), score(X,SX), S < SX, R != X} 0.
%% ONLY OPTION RULE
onlyOption(R) :- request(R), patient_id(R,P), 0 {request(X) : patient_id(X,P), R != X} 0.

% SET CREATION
0 {grant(R)} 1 :- granted(R), not best(R).
0 {grant(R)} 1 :- not granted(R), patient_id(R,P), granted(X), patient_id(X,P), score(R, S), score(X, SX), R != X, S > SX.
0 {grant(R)} 1 :- patient_id(R,P), not appointed(P).

%% FRAME AXIOM
claimed(R) :- granted(R), best(R).

% INTEGRITY CONSTRAINTS
% A timeslot can be appointed only to one patient
:- grant(R1), timeslot_id(R1, T), grant(R2), timeslot_id(R2, T), R1 != R2.
% Only one timeslot can be appointed to a patient
:- grant(R1), patient_id(R1, P), grant(R2), patient_id(R2, P), R1 != R2.
% If a request has a lower score than someone's only option it won't be considered in the optimizatioin process
:- grant(R1), timeslot_id(R1,T), score(R1,S1), request(R2), timeslot_id(R2,T), score(R2,S2), R1 != R2, S1 < S2, onlyOption(R2).
% Claimed requests aren't taken into consideration in the optimization process
:- grant(R), claimed(R).
% If a request is claimed all the other requests for the same timeslot won't be considered in the optimizatioin process
:- grant(R1), timeslot_id(R1,T), request(R2), timeslot_id(R2,T), claimed(R2), R1 != R2.
 
% OPTIMIZATION
#maximize{ S, R : grant(R), score(R, S)}.

#show grant/1.
#show claimed/1.